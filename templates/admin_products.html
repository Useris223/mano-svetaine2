{% extends "base.html" %}
{% block content %}
<div class="flex items-end justify-between gap-3 flex-wrap">
  <div>
    <h1 class="text-3xl font-bold">Admin • Produktai</h1>
    <p class="text-sm text-white/60 mt-1">
      Pridėk, redaguok arba trink prekes
    </p>
  </div>

  <div class="flex gap-2">
    <a href="/admin/products/new"
       class="rounded-2xl px-4 py-2 bg-white text-slate-950 font-medium">
      + Naujas
    </a>
    <a href="/admin/logout"
       class="rounded-2xl px-4 py-2 border border-white/10 hover:bg-white/5">
      Logout
    </a>
  </div>
</div>

<div class="mt-6 grid gap-3">
  {% for p in products %}
  <div class="rounded-2xl border border-white/10 bg-white/5 p-4
              flex items-center justify-between gap-3">
    <div class="flex items-center gap-3">
      {% if p.image %}
        <img src="{{ p.image }}"
             class="h-12 w-12 rounded-xl object-cover border border-white/10">
      {% endif %}
      <div>
        <div class="font-semibold">{{ p.id }} • {{ p.title }}</div>
        <div class="text-xs text-white/60">
          €{{ p.price }} • {{ p.status }}
        </div>
      </div>
    </div>

    <div class="flex gap-2">
      <a href="/admin/products/{{ p.id }}"
         class="rounded-xl px-3 py-2 border border-white/10 hover:bg-white/5">
        Edit
      </a>

      <form method="post"
            action="/admin/products/{{ p.id }}/delete"
            onsubmit="return confirm('Tikrai ištrinti?')">
        <button
          class="rounded-xl px-3 py-2 border border-rose-400/30
                 text-rose-200 hover:bg-rose-400/10">
          Delete
        </button>
      </form>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}
