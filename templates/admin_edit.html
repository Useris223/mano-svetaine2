{% extends "base.html" %}
{% block content %}
<div class="max-w-2xl mx-auto rounded-3xl border border-white/10 bg-white/5 p-6">
  <div class="flex items-center justify-between">
    <h1 class="text-2xl font-bold">
      {{ 'Naujas produktas' if not p else 'Redaguoti produktą' }}
    </h1>
    <a href="/admin/products"
       class="rounded-xl px-3 py-2 border border-white/10 hover:bg-white/5">
      Atgal
    </a>
  </div>

  <form method="post"
        action="/admin/products/save"
        class="mt-5 grid gap-4 md:grid-cols-2">

    <div class="md:col-span-2">
      <label class="text-sm text-white/70">ID</label>
      <input name="id"
             value="{{ p.id if p else '' }}"
             {% if p %}readonly{% endif %}
             required
             class="mt-1 w-full rounded-2xl px-4 py-3
                    bg-slate-950/40 border border-white/10">
    </div>

    <div>
      <label class="text-sm text-white/70">Brand</label>
      <input name="brand"
             value="{{ p.brand if p else '' }}"
             class="mt-1 w-full rounded-2xl px-4 py-3
                    bg-slate-950/40 border border-white/10">
    </div>

    <div>
      <label class="text-sm text-white/70">Kaina (€)</label>
      <input name="price"
             value="{{ p.price if p else '' }}"
             required
             class="mt-1 w-full rounded-2xl px-4 py-3
                    bg-slate-950/40 border border-white/10">
    </div>

    <div class="md:col-span-2">
      <label class="text-sm text-white/70">Pavadinimas</label>
      <input name="title"
             value="{{ p.title if p else '' }}"
             required
             class="mt-1 w-full rounded-2xl px-4 py-3
                    bg-slate-950/40 border border-white/10">
    </div>

    <div>
      <label class="text-sm text-white/70">Condition</label>
      <input name="condition"
             value="{{ p.condition if p else '' }}"
             class="mt-1 w-full rounded-2xl px-4 py-3
                    bg-slate-950/40 border border-white/10">
    </div>

    <div>
      <label class="text-sm text-white/70">Size</label>
      <input name="size"
             value="{{ p.size if p else '' }}"
             class="mt-1 w-full rounded-2xl px-4 py-3
                    bg-slate-950/40 border border-white/10">
    </div>

    <div>
      <label class="text-sm text-white/70">Ship</label>
      <input name="ship"
             value="{{ p.ship if p else '' }}"
             class="mt-1 w-full rounded-2xl px-4 py-3
                    bg-slate-950/40 border border-white/10">
    </div>

    <div>
      <label class="text-sm text-white/70">Status</label>
      <select name="status"
              class="mt-1 w-full rounded-2xl px-4 py-3
                     bg-slate-950/40 border border-white/10">
        {% set s = p.status if p else 'available' %}
        <option value="available" {% if s=='available' %}selected{% endif %}>available</option>
        <option value="reserved" {% if s=='reserved' %}selected{% endif %}>reserved</option>
        <option value="sold" {% if s=='sold' %}selected{% endif %}>sold</option>
      </select>
    </div>

    <div class="md:col-span-2">
      <label class="text-sm text-white/70">Image URL</label>
      <input name="image"
             value="{{ p.image if p else '' }}"
             class="mt-1 w-full rounded-2xl px-4 py-3
                    bg-slate-950/40 border border-white/10"
             placeholder="/static/products/L1.jpg">
    </div>

    <div class="md:col-span-2 flex gap-2">
      <button
        class="rounded-2xl px-5 py-3 bg-white
               text-slate-950 font-medium">
        Išsaugoti
      </button>
      <a href="/admin/products"
         class="rounded-2xl px-5 py-3
                border border-white/10 hover:bg-white/5">
        Atšaukti
      </a>
    </div>
  </form>
</div>
{% endblock %}
